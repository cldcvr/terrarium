components:
    - id: job_queue
      title: Background Service
      description: A compute resource that listens to queues and performs background tasks.
    - id: job_scheduled
      title: Cron Jobs
      description: Scheduled tasks that run at specific intervals.
      inputs:
        properties:
            schedule:
                title: Schedule
                description: The time interval or pattern for the cron job to run.
                type: string
                examples:
                    - '*/5 * * * *'
                    - 0 0 * * MON
                pattern: ^(\S+\s+){4}\S+$
    - id: postgres
      title: PostgreSQL Database
      description: A relational database management system using SQL.
      inputs:
        type: object
        properties:
            db_name:
                type: string
                default: default_db
            version:
                type: number
                default: 11
      outputs:
        properties:
            host:
                title: Host
                description: The host address of the PostgreSQL server.
                type: string
            password:
                title: Password
                description: The password for accessing the PostgreSQL database.
                type: string
            port:
                title: Port
                description: The port number on which the PostgreSQL server is listening.
                type: number
            username:
                title: Username
                description: The username for accessing the PostgreSQL database.
                type: string
    - id: server_private
      title: Private Service
      description: A compute resource accessible only within a private network.
      inputs:
        properties:
            port:
                description: The port number on which the service is listening.
                type: number
            protocol:
                description: The protocol used by the service (e.g., TCP, UDP).
                type: string
    - id: redis
      title: Redis Cache
      description: An in-memory data structure store used as a cache or message broker.
      inputs:
        properties:
            version:
                title: Engine Version
                description: The version of Redis to use.
                type: string
      outputs:
        properties:
            host:
                title: Host
                description: The host address of the Redis server.
                type: string
            port:
                title: Port
                description: The port number on which the Redis server is listening.
                type: string
    - id: server_static
      title: Static Website
      description: A static website hosted on a Content Delivery Network (CDN) with SSL support.
      inputs:
        properties:
            path_redirect_rewrites:
                title: Redirect and Rewrite Rules
                description: Add Redirect or Rewrite Rules to modify requests to your site without writing code. You can use URL parameters to capture path segments, and wildcards to redirect everything under a given path.
                type: array
                items:
                    type: object
                    properties:
                        action:
                            title: Action
                            type: string
                            enum:
                                - Redirect
                                - Rewrite
                        destination:
                            title: Destination
                            type: string
                        source:
                            title: Source
                            type: string
      outputs:
        properties:
            cdn_url:
                title: CDN URL
                description: The URL of the static website on the CDN.
                type: string
    - id: server_web
      title: Web Service
      description: A compute resource that provides SSL, HTTP, and GRPC endpoints.
      inputs:
        properties:
            port:
                title: Service Port
                description: The port number on which the service is listening.
                type: string
      outputs:
        properties:
            endpoint:
                title: Service Endpoint
                description: The endpoint URL of the web service.
                type: string
graph:
    - id: data.aws_availability_zones.available
      requirements: []
    - id: module.core_vpc
      requirements:
        - resource.random_string.random
    - id: module.postgres_security_group
      requirements:
        - module.core_vpc
    - id: module.tr_component_postgres
      requirements:
        - module.core_vpc
        - module.postgres_security_group
    - id: output.data_az
      requirements:
        - data.aws_availability_zones.available
    - id: output.tr_component_postgres_host
      requirements:
        - module.tr_component_postgres
    - id: output.tr_component_postgres_port
      requirements:
        - module.tr_component_postgres
    - id: output.vpc_id
      requirements:
        - module.core_vpc
    - id: resource.random_string.random
      requirements: []
