components:
    - id: postgres
      inputs:
        type: object
        properties:
            db_name:
                type: string
                default: default_db
            version:
                type: number
                default: 11
      outputs:
        type: object
        properties:
            host: {}
            port: {}
graph:
    - id: data.aws_availability_zones.available
      requirements:
        - provider.aws
    - id: local.tr_component_postgres
      requirements: []
    - id: local.tr_component_postgres_enabled
      requirements:
        - local.tr_component_postgres
    - id: local.tr_taxon_database_enabled
      requirements:
        - local.tr_taxon_sql_enabled
    - id: local.tr_taxon_sql_enabled
      requirements:
        - local.tr_component_postgres_enabled
    - id: module.core_vpc
      requirements:
        - local.tr_taxon_database_enabled
        - resource.random_string.random
    - id: module.postgres_security_group
      requirements:
        - module.core_vpc
    - id: module.tr_component_postgres
      requirements:
        - local.tr_component_postgres
        - module.core_vpc
        - module.postgres_security_group
        - var.all_db_instance_class
        - var.db_instance_class
    - id: output.data_az
      requirements:
        - data.aws_availability_zones.available
    - id: output.tr_component_postgres_host
      requirements:
        - module.tr_component_postgres
    - id: output.tr_component_postgres_port
      requirements:
        - module.tr_component_postgres
    - id: output.vpc_id
      requirements:
        - module.core_vpc
    - id: provider.aws
      requirements: []
    - id: provider.random
      requirements: []
    - id: resource.random_string.random
      requirements:
        - provider.random
    - id: var.all_db_instance_class
      requirements: []
    - id: var.db_instance_class
      requirements: []
